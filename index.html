<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Registro automático</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <h2>Registrando...</h2>

<script>
  const params = new URLSearchParams(window.location.search);

  // Mostra sucesso "otimista" (seu caso não precisa de confirmação real)
  function ok() {
    document.body.innerHTML = "<h2>Registro efetuado com sucesso.</h2>";
  }
  function fail() {
    document.body.innerHTML = "<h2>Erro ao registrar.</h2>";
  }

  try {
    fetch("SUA_URL_DO_FLOW_AQUI", {
      method: "POST",
      mode: "no-cors", // <- evita a falha de leitura por CORS
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        instalacao: params.get("instalacao"),
        local: params.get("local"),
        token: params.get("token")
      })
    });

    // Não dá para esperar/validar resposta no modo no-cors (resposta é opaca).
    ok();
  } catch (e) {
    fail();
  }
</script>
</body>
</html>
